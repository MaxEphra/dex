<!DOCTYPE html><html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simulador DEX - IMCASH</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #121212;
      color: #ffffff;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0;
      padding: 2rem;
    }
    input, button {
      padding: 10px;
      margin: 10px;
      font-size: 1rem;
    }
    .box {
      border: 1px solid #555;
      border-radius: 10px;
      padding: 20px;
      margin-top: 20px;
      background-color: #1e1e1e;
      max-width: 400px;
      width: 100%;
    }
    label {
      display: block;
      margin-bottom: 0.5rem;
    }
  </style>
</head>
<body>
  <h1>Simulador DEX - IMCASH</h1>  <div class="box">
    <label for="valorCompra">Valor para comprar (USDT):</label>
    <input type="number" id="valorCompra" placeholder="Ex: 100">
    <button onclick="comprarTokens()">Comprar</button><label for="valorVenda">Valor para vender (IMCASH):</label>
<input type="number" id="valorVenda" placeholder="Ex: 50">
<button onclick="venderTokens()">Vender</button>

  </div>  <div class="box">
    <p><strong>Preço Atual (1 IMCASH):</strong> <span id="preco"></span> USDT</p>
    <p><strong>Liquidez:</strong> <span id="liquidez"></span> USDT</p>
    <p><strong>Carteira do usuário:</strong> <span id="carteira"></span> USDT</p>
    <p><strong>Tokens do usuário:</strong> <span id="tokensUser"></span> IMCASH</p>
    <p><strong>Fundo Social:</strong> <span id="fundoSocial"></span> USDT</p>
    <p><strong>Fundo Projeto:</strong> <span id="fundoProjeto"></span> USDT</p>
  </div>  <script>
    let poolUSDT = 500;
    let poolIMCASH = 500;
    let fundoSocial = 0;
    let fundoProjeto = 0;
    let carteiraUser = 1000000;
    let tokensUser = 0;

    function atualizarTela() {
      const preco = (poolUSDT / poolIMCASH).toFixed(6);
      document.getElementById("preco").innerText = preco;
      document.getElementById("liquidez").innerText = poolUSDT.toFixed(2);
      document.getElementById("carteira").innerText = carteiraUser.toFixed(2);
      document.getElementById("tokensUser").innerText = tokensUser.toFixed(6);
      document.getElementById("fundoSocial").innerText = fundoSocial.toFixed(2);
      document.getElementById("fundoProjeto").innerText = fundoProjeto.toFixed(2);
    }

    function comprarTokens() {
      let valor = parseFloat(document.getElementById("valorCompra").value);
      if (isNaN(valor) || valor <= 0 || valor > carteiraUser) {
        alert("Valor inválido ou saldo insuficiente.");
        return;
      }

      let limite = poolUSDT * 0.15;
      if (valor > limite) valor = limite;

      let taxas = valor * 0.011;
      let valorLiquido = valor - taxas;
      let preco = poolUSDT / poolIMCASH;
      let tokensRecebidos = valorLiquido / preco;

      poolUSDT += valor * 0.01;
      fundoSocial += valor * 0.0005;
      fundoProjeto += valor * 0.0005;

      carteiraUser -= valor;
      tokensUser += tokensRecebidos;
      poolIMCASH -= tokensRecebidos;

      atualizarTela();
    }

    function venderTokens() {
      let valorTokens = parseFloat(document.getElementById("valorVenda").value);
      if (isNaN(valorTokens) || valorTokens <= 0 || valorTokens > tokensUser) {
        alert("Valor inválido ou tokens insuficientes.");
        return;
      }

      let preco = poolUSDT / poolIMCASH;
      let valorVenda = valorTokens * preco;
      let taxas = valorVenda * 0.011;
      let valorLiquido = valorVenda - taxas;

      poolUSDT -= valorLiquido;
      poolIMCASH += valorTokens;

      fundoSocial += valorVenda * 0.0005;
      fundoProjeto += valorVenda * 0.0005;
      poolUSDT += valorVenda * 0.01;

      carteiraUser += valorLiquido;
      tokensUser -= valorTokens;

      atualizarTela();
    }

    atualizarTela();
  </script></body>
</html>